pipeline{
agent any

tools{
maven 'Maven'
jdk 'JDK11'
}
stages{
stage('checkout'){
steps{
 git branch: 'main', url: 'https://github.com/PushpaPalanisamy23/my-java-app1.git'
 }
 stage('Build'){
 steps{
 sh 'mvn clean install'
 }
 }
 stage('Test')
 {
 steps{
 sh 'mvn test'
 }
 post{
 always{
 junit '**/target/surfire-reports/*.xml'
 }
 }
 }
 }
 post{
 success { echo 'Build and test completed successfully'}
 failure{ echo' Build failed-check logs'}
 }
 }